<div><form class="form-inline pb20" ng-class="{'stu-info-form': flag === 'form', 'stu-info':flag === 'info'}" role="form" name="vm.baseForm" novalidate><h3 ng-class="{'student-info-title': flag === 'form', 'base-info-title':flag === 'info'}">基本信息</h3><ul class="student-info-ul clearfix"><li class="col-big-3 col-middle-4"><span>学号:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.studentId}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="studentId" maxlength="20" ng-class="{'border-error':vm.baseForm.studentId.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.studentId" disabled="disabled" required> <span class="text-error" ng-if="vm.baseForm.studentId.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4"><span>姓名:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.name}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="studentName" maxlength="20" ng-class="{'border-error':vm.baseForm.studentName.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.name" disabled="disabled" required> <span class="text-error" ng-if="vm.baseForm.studentName.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 md-border-right"><span>班级:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.className}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="className" maxlength="20" ng-class="{'border-error':vm.baseForm.className.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.className" disabled="disabled" required> <span class="text-error" ng-if="vm.baseForm.className.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 md-bg lg-border-right"><span>年级:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.gradeName}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="gradeName" maxlength="20" ng-class="{'border-error':vm.baseForm.gradeName.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.gradeName" disabled="disabled" required> <span class="text-error" ng-if="vm.baseForm.gradeName.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 lg-bg md-bg"><span>学院:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.collegeName}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="collegeName" maxlength="20" ng-class="{'border-error':vm.baseForm.collegeName.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.collegeName" disabled="disabled" required> <span class="text-error" ng-if="vm.baseForm.collegeName.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 lg-bg md-bg md-border-right"><span>专业:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.majorName}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="majorName" maxlength="20" ng-class="{'border-error':vm.baseForm.majorName.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.majorName" disabled="disabled" required> <span class="text-error" ng-if="vm.baseForm.majorName.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 lg-bg"><span>性别:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.gender}}</span> <span ng-if="flag === 'form'"><label class="radio-inline"><input type="radio" name="sex" ng-checked="vm.baseInfo.gender=== 1" ng-model="vm.baseInfo.gender" ng-value="1"> 男</label><label class="radio-inline"><input type="radio" name="sex" ng-checked="vm.baseInfo.gender=== 0" ng-model="vm.baseInfo.gender" id="inlineRadio2" ng-value="0"> 女</label></span></li><li class="col-big-3 col-middle-4 lg-bg lg-border-right"><span>出生日期:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.birthday | date : 'yyyy-MM-dd'}}</span> <span ng-if="flag === 'form'"><span class="input-group"><input type="text" class="form-control" uib-datepicker-popup name="birthday" placeholder="请选择时间" ng-model="vm.baseInfo.birthday" is-open="birthday" readonly="readonly" ng-click="birthday = true" required show-button-bar="false" ng-class="{'border-error':vm.baseForm.birthday.$invalid&&vm.baseSubmit}"> <span class="input-group-btn"><button type="button" class="btn btn-default btn-icon" ng-click="birthday = true"><i class="glyphicon glyphicon-calendar"></i></button> </span></span><span class="text-error" ng-if="vm.baseForm.birthday.$invalid&&vm.baseSubmit">必选*</span></span></li><li class="col-big-3 col-middle-4 md-border-right"><span>民族:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.nationName}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="nationName" ng-class="{'border-error':vm.baseForm.nationName.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.nationName" disabled="disabled" required> <span class="text-error" ng-if="vm.baseForm.nationName.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 md-bg"><span>籍贯:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.nativePlace}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="nativePlace" ng-class="{'border-error':vm.baseForm.nativePlace.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.nativePlace" required> <span class="text-error" ng-if="vm.baseForm.nativePlace.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 md-bg"><span>政治面貌:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.partyName}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="partyName" ng-class="{'border-error':vm.baseForm.partyName.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.partyName" disabled="disabled" required> <span class="text-error" ng-if="vm.baseForm.partyName.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 md-bg md-border-right lg-border-right"><span>身份证号:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.idCard}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="idCard" maxlength="20" ng-class="{'border-error':vm.baseForm.idCard.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.idCard " required disabled="disabled"> <span class="text-error" ng-if="vm.baseForm.idCard.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 lg-bg"><span>宿舍号:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.dorm}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" name="dorm" maxlength="20" ng-model="vm.baseInfo.dorm" disabled="disabled"></span></li><li class="col-big-3 col-middle-4 lg-bg"><span>在校联系电话:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.schoolTel}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" required name="schoolTel" ng-pattern="/^[0-9]+$/" maxlength="20" ng-class="{'border-error':vm.baseForm.schoolTel.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.schoolTel" disabled="disabled"> <span class="text-error" ng-if="vm.baseForm.schoolTel.$error.required&&vm.baseSubmit">必填*</span> <span class="text-error" ng-if="vm.baseForm.schoolTel.$error.pattern&&vm.baseSubmit">数字*</span></span></li><li class="col-big-3 col-middle-4 lg-bg md-border-right"><span>家庭联系电话:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.homeTel}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" required name="homeTel" ng-pattern="/^[0-9]+$/" maxlength="20" ng-class="{'border-error':vm.baseForm.homeTel.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.homeTel"> <span class="text-error" ng-if="vm.baseForm.homeTel.$error.required&&vm.baseSubmit">必填*</span> <span class="text-error" ng-if="vm.baseForm.homeTel.$error.pattern&&vm.baseSubmit">数字*</span></span></li><li class="col-big-3 col-middle-4 md-bg lg-bg lg-border-right"><span>银行账户:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.account}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" required name="account" maxlength="20" ng-class="{'border-error':vm.baseForm.account.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.account"> <span class="text-error" ng-if="vm.baseForm.account.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 md-bg"><span>本人健康状况:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.healthStatus}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" required name="healthStatus" maxlength="10" ng-class="{'border-error':vm.baseForm.healthStatus.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.healthStatus"> <span class="text-error" ng-if="vm.baseForm.healthStatus.$invalid&&vm.baseSubmit">必填*</span></span></li><li class="col-big-3 col-middle-4 md-bg md-bg md-border-right"><span>家庭人口数:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.memberSize}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" required name="memberSize" ng-pattern="/^[0-9]+$/" maxlength="2" ng-class="{'border-error':vm.baseForm.memberSize.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.memberSize"> <span class="text-error" ng-if="vm.baseForm.memberSize.$error.required&&vm.baseSubmit">必填*</span> <span class="text-error" ng-if="vm.baseForm.memberSize.$error.pattern&&vm.baseSubmit">数字*</span></span></li><li class="col-big-3 col-middle-4"><span>家庭在读学生数:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.studyingSize}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" required name="studyingSize" ng-pattern="/^[0-9]+$/" maxlength="2" ng-class="{'border-error':vm.baseForm.studyingSize.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.studyingSize"> <span class="text-error" ng-if="vm.baseForm.studyingSize.$error.required&&vm.baseSubmit">必填*</span> <span class="text-error" ng-if="vm.baseForm.studyingSize.$error.pattern&&vm.baseSubmit">数字*</span></span></li><li class="col-big-3 col-middle-4 lg-border-right"><span>家庭负债金额(元):</span> <span ng-if="flag === 'info'">{{vm.baseInfo.familyLiabilities}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" required name="familyLiabilities" ng-pattern="/^[0-9]+$/" maxlength="10" ng-class="{'border-error':vm.baseForm.familyLiabilities.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.familyLiabilities"> <span class="text-error" ng-if="vm.baseForm.familyLiabilities.$error.required&&vm.baseSubmit">必填*</span> <span class="text-error" ng-if="vm.baseForm.familyLiabilities.$error.pattern&&vm.baseSubmit">数字*</span></span></li><li class="col-big-3 col-middle-4 lg-bg md-border-right"><span>是否在当地政府建档立卡:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.isFilingCard}}</span> <span ng-if="flag === 'form'"><label class="radio-inline"><input type="radio" name="isFilingCard" ng-checked="vm.baseInfo.isFilingCard=== 1" id="isFilingCard1" ng-model="vm.baseInfo.isFilingCard" ng-value="1"> 是</label><label class="radio-inline"><input type="radio" name="isFilingCard" ng-checked="vm.baseInfo.isFilingCard=== 0" ng-model="vm.baseInfo.isFilingCard" id="isFilingCard2" ng-value="0"> 否</label></span></li><li class="col-big-3 col-middle-4 lg-bg md-bg"><span>是否残疾:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.isDisability}}</span> <span ng-if="flag === 'form'"><label class="radio-inline"><input type="radio" name="isDisability" ng-checked="vm.baseInfo.isDisability=== 1" id="isDisability1" ng-model="vm.baseInfo.isDisability" ng-value="1"> 是</label><label class="radio-inline"><input type="radio" name="isDisability" ng-checked="vm.baseInfo.isDisability=== 0" ng-model="vm.baseInfo.isDisability" id="isDisability2" ng-value="0"> 否</label></span></li><li class="col-big-3 col-middle-4 lg-bg md-bg"><span>是否是低保家庭:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.isLowField}}</span> <span ng-if="flag === 'form'"><label class="radio-inline"><input type="radio" name="isLowField" ng-checked="vm.baseInfo.isLowField=== 1" id="isLowField1" ng-model="vm.baseInfo.isLowField" ng-value="1"> 是</label><label class="radio-inline"><input type="radio" name="isLowField" ng-checked="vm.baseInfo.isLowField=== 0" ng-model="vm.baseInfo.isLowField" id="isLowField2" ng-value="0"> 否</label></span></li><li class="col-big-3 col-middle-4 lg-bg md-bg md-border-right lg-border-right"><span>是否烈士家庭:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.isMartyr}}</span> <span ng-if="flag === 'form'"><label class="radio-inline"><input type="radio" name="isMartyr" ng-checked="vm.baseInfo.isMartyr=== 1" id="imdartyr1" ng-model="vm.baseInfo.isMartyr" ng-value="1"> 是</label><label class="radio-inline"><input type="radio" name="isMartyr" ng-checked="vm.baseInfo.isMartyr=== 0" ng-model="vm.baseInfo.isMartyr" id="imdartyr2" ng-value="0"> 否</label></span></li><li class="col-big-3 col-middle-4"><span>是否农村五保户:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.isRuralInfirm}}</span> <span ng-if="flag === 'form'"><label class="radio-inline"><input type="radio" name="isRuralInfirm" ng-checked="vm.baseInfo.isRuralInfirm=== 1" id="isRuralInfirm1" ng-model="vm.baseInfo.isRuralInfirm" ng-value="1"> 是</label><label class="radio-inline"><input type="radio" name="isRuralInfirm" ng-checked="vm.baseInfo.isRuralInfirm=== 0" ng-model="vm.baseInfo.isRuralInfirm" id="isRuralInfirm2" ng-value="0"> 否</label></span></li><li class="col-big-3 col-middle-4"><span>是否孤儿:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.isOrphan}}</span> <span ng-if="flag === 'form'"><label class="radio-inline"><input type="radio" name="isSole" ng-checked="vm.baseInfo.isOrphan=== 1" id="isOrphan1" ng-model="vm.baseInfo.isOrphan" ng-value="1"> 是</label><label class="radio-inline"><input type="radio" name="isSole" ng-checked="vm.baseInfo.isOrphan=== 0" ng-model="vm.baseInfo.isOrphan" id="isOrphan2" ng-value="0"> 否</label></span></li><li class="col-big-3 col-middle-4 md-border-right md-border-bottom"><span>家庭人均年收入(元):</span> <span ng-if="flag === 'info'">{{vm.baseInfo.income}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control" required name="income" ng-pattern="/^[0-9]+$/" maxlength="10" ng-class="{'border-error':vm.baseForm.income.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.income"> <span class="text-error" ng-if="vm.baseForm.income.$error.required&&vm.baseSubmit">必填*</span> <span class="text-error" ng-if="vm.baseForm.income.$error.pattern&&vm.baseSubmit">数字*</span></span></li><li class="col-big-3 col-middle-4 md-bg lg-border-right lg-border-bottom"><span>家庭提供的每月生活费(元):</span> <span ng-if="flag === 'info'">{{vm.baseInfo.monthlyCost}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control w122" required name="monthlyCost" ng-pattern="/^[0-9]+$/" maxlength="10" ng-class="{'border-error':vm.baseForm.monthlyCost.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.monthlyCost"> <span class="text-error" ng-if="vm.baseForm.monthlyCost.$error.required&&vm.baseSubmit">必填*</span> <span class="text-error" ng-if="vm.baseForm.monthlyCost.$error.pattern&&vm.baseSubmit">数字*</span></span></li><li class="col-big-3 col-middle-4 md-bg lg-bg md-border-right lg-border-bottom"><span>近三年家庭是否遭受意外:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.isAccident}}</span> <span ng-if="flag === 'form'"><label class="radio-inline"><input type="radio" name="isAccident" ng-checked="vm.baseInfo.isAccident=== 1" id="isAccident1" ng-model="vm.baseInfo.isAccident" ng-value="1"> 是</label><label class="radio-inline"><input type="radio" name="isAccident" ng-checked="vm.baseInfo.isAccident=== 0" ng-model="vm.baseInfo.isAccident" id="isAccident2" ng-value="0"> 否</label></span></li><li class="col-big-6 col-middle-8 lg-bg md-border-right lg-border-right md-border-bottom lg-border-bottom"><span>家庭地址:</span> <span ng-if="flag === 'info'">{{vm.baseInfo.address}}</span> <span ng-if="flag === 'form'"><input type="text" class="form-control w60" name="address" disabled="disabled" ng-class="{'border-error':vm.baseForm.address.$invalid&&vm.baseSubmit}" ng-model="vm.baseInfo.address" required> <span class="text-error" ng-if="vm.baseForm.address.$invalid&&vm.baseSubmit">必填*</span></span></li></ul><table class="table table-hover table-bordered table-striped"><caption ng-if="flag === 'form'"><span class="fw">已获资助情况</span> <input type="button" name="" value="新增" class="btn btn-primary pull-right" ng-click="addSubsidyShow()"></caption><caption ng-if="flag === 'info'" class="pl10">已获资助情况</caption><thead><tr><th>资助名称</th><th>资助金额(元)</th><th>资助时间</th><th ng-if="flag === 'form'">操作</th></tr></thead><tbody><tr ng-repeat="subsidy in vm.subsidyList track by $index"><td>{{subsidy.name}}</td><td>{{subsidy.amount}}</td><td>{{subsidy.subsidyDate | date : 'yyyy-MM-dd'}}</td><td ng-if="flag === 'form'"><a href="javascript:;" class="text-danger" ng-click="removeSubsidy(subsidy.id)">删除</a></td></tr></tbody></table><table class="table table-hover table-bordered table-striped"><caption ng-if="flag === 'form'"><span class="fw">家庭情况</span> <input type="button" name="" value="新增" class="btn btn-primary pull-right" ng-click="addFamilyShow()"></caption><caption ng-if="flag === 'info'" class="pl10">家庭情况</caption><thead><tr><th>姓名</th><th>关系</th><th>年龄</th><th>月收入(元)</th><th>联系电话</th><th>工作</th><th>健康状况</th><th ng-if="flag === 'form'">操作</th></tr></thead><tbody><tr ng-repeat="family in vm.familyList track by $index"><td>{{family.name}}</td><td>{{family.relation}}</td><td>{{family.age}}</td><td>{{family.monthlyIncome}}</td><td>{{family.phone}}</td><td>{{family.job}}</td><td>{{family.healthStatus}}</td><td ng-if="flag === 'form'"><a href="javascript:;" class="text-danger" ng-click="removeFamily(family.id)">删除</a></td></tr></tbody></table><div class="form-group family-desc w100"><label for="description" ng-class="{'family-desc-title':flag === 'info'}">家庭情况说明</label><span ng-if="flag === 'form'"><textarea class="form-control w100" id="description" rows="5" name="description" required maxlength="5000" ng-class="{'border-error':vm.baseForm.description.$invalid&&vm.baseSubmit}" placeholder="最多5000字" ng-model="vm.baseInfo.description"></textarea><span class="text-error" ng-if="vm.baseForm.description.$invalid&&vm.baseSubmit">必填*</span></span><p ng-if="flag === 'info'" class="family-desc-content">{{vm.baseInfo.description}}</p></div><div class="text-center mt20" ng-if="flag === 'form'"><input type="button" value="保存" ng-disabled="vm.baseSubmit" ng-click="saveInfo()" class="btn btn-primary h40 w250"></div></form><div class="modal fade" id="addPunishment" tabindex="-1" role="dialog" aria-labelledby="myModalLabelpunishment"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabelpunishment">添加家庭成员</h4></div><div class="modal-body"><form class="form-horizontal" name="vm.punishmentForm" novalidate><div class="form-group"><label class="col-sm-3 control-label">处分种类</label><div class="col-sm-8" ng-class="{'has-error':vm.punishmentForm.type.$invalid&&vm.punishmentSubmit}"><input type="text" class="form-control" ng-model="vm.addPunishment.type" name="type" maxlength="10" placeholder="请输入处分种类" required> <span class="text-error" ng-if="vm.punishmentForm.type.$invalid&&vm.punishmentSubmit">必填*</span></div></div><div class="form-group"><label class="col-sm-3 control-label">处分时间</label><div class="col-sm-8" ng-class="{'has-error':vm.punishmentForm.punishDate.$invalid&&vm.punishmentSubmit}"><p class="input-group w100"><input type="text" class="form-control" uib-datepicker-popup name="punishDate" placeholder="请选择时间" ng-model="vm.addPunishment.punishDate" is-open="punishDate" show-button-bar="false" readonly="readonly" ng-click="punishDate = true" required> <span class="input-group-btn"><button type="button" class="btn btn-default btn-icon" ng-click="punishDate = true"><i class="glyphicon glyphicon-calendar"></i></button></span></p><span class="text-error" ng-if="vm.punishmentForm.punishDate.$invalid&&vm.punishmentSubmit">必填*</span></div></div><div class="form-group"><label class="col-sm-3 control-label">是否已撤销</label><div class="col-sm-8"><label class="radio-inline"><input type="radio" name="isRepeal" ng-model="vm.addPunishment.isRepeal" ng-value="1" ng-checked="vm.addPunishment.isRepeal === 1"> 是</label><label class="radio-inline"><input type="radio" name="isRepeal" ng-model="vm.addPunishment.isRepeal" ng-value="0" ng-checked="vm.addPunishment.isRepeal === 0"> 否</label></div></div><div class="form-group"><label class="col-sm-3 control-label">处分原因</label><div class="col-sm-8" ng-class="{'has-error':vm.punishmentForm.reason.$invalid&&vm.punishmentSubmit}"><textarea name="reason" class="form-control" cols="30" required rows="5" placeholder="请填写处分原因" ng-model="vm.addPunishment.reason"></textarea><span class="text-error" ng-if="vm.punishmentForm.reason.$invalid&&vm.punishmentSubmit">必填*</span></div></div></form></div><div class="modal-footer"><button type="button" ng-click="addPunishment()" class="btn btn-primary">确定</button></div></div></div></div><div class="modal fade" id="addFamily" tabindex="-1" role="dialog" aria-labelledby="myModalLabelfamily"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabelfamily">添加家庭成员</h4></div><div class="modal-body"><form class="form-horizontal" name="vm.familyForm" novalidate><div class="form-group"><label for="familyName" class="col-sm-3 control-label">姓名</label><div class="col-sm-8" ng-class="{'has-error':vm.familyForm.name.$invalid&&vm.familySubmit}"><input type="text" class="form-control" ng-model="vm.addFamily.name" name="name" id="familyName" maxlength="10" placeholder="请输入家庭成员姓名" required> <span class="text-error" ng-if="vm.familyForm.name.$invalid&&vm.familySubmit">必填*</span></div></div><div class="form-group"><label for="relation" class="col-sm-3 control-label">关系</label><div class="col-sm-8" ng-class="{'has-error':vm.familyForm.relation.$invalid&&vm.familySubmit}"><input type="text" class="form-control" ng-model="vm.addFamily.relation" name="relation" maxlength="10" placeholder="如：父子" required id="relation"> <span class="text-error" ng-if="vm.familyForm.relation.$invalid&&vm.familySubmit">必填*</span></div></div><div class="form-group"><label for="age" class="col-sm-3 control-label">年龄</label><div class="col-sm-8" ng-class="{'has-error':vm.familyForm.age.$invalid&&vm.familySubmit}"><input type="text" class="form-control" ng-model="vm.addFamily.age" name="age" ng-pattern="/^[0-9]+$/" maxlength="10" placeholder="年龄" required id="age"> <span class="text-error" ng-if="vm.familyForm.age.$error.required && vm.familySubmit">必填*</span> <span class="text-error" ng-if="vm.familyForm.age.$error.pattern && vm.familySubmit">只能为数字*</span></div></div><div class="form-group"><label for="monthlyIncome" class="col-sm-3 control-label">月收入</label><div class="col-sm-8" ng-class="{'has-error':vm.familyForm.monthlyIncome.$invalid&&vm.familySubmit}"><input type="text" class="form-control" ng-model="vm.addFamily.monthlyIncome" name="monthlyIncome" ng-pattern="/^[0-9]+$/" maxlength="10" placeholder="如：1000" required id="monthlyIncome"><span class="yuans">元</span> <span class="text-error" ng-if="vm.familyForm.monthlyIncome.$error.required && vm.familySubmit">必填*</span> <span class="text-error" ng-if="vm.familyForm.monthlyIncome.$error.pattern && vm.familySubmit">只能为数字*</span></div></div><div class="form-group"><label for="phone" class="col-sm-3 control-label">联系电话</label><div class="col-sm-8" ng-class="{'has-error':vm.familyForm.phone.$invalid&&vm.familySubmit}"><input type="text" class="form-control" ng-model="vm.addFamily.phone" name="phone" ng-pattern="/^[0-9]+$/" maxlength="20" placeholder="请填写联系电话" required id="phone"> <span class="text-error" ng-if="vm.familyForm.phone.$error.required &&vm.familySubmit">必填*</span> <span class="text-error" ng-if="vm.familyForm.phone.$error.pattern && vm.familySubmit">只能为数字*</span></div></div><div class="form-group hidden"><label for="address" class="col-sm-3 control-label">地址</label><div class="col-sm-8" ng-class="{'has-error':vm.familyForm.address.$invalid&&vm.familySubmit}"><input type="text" class="form-control" ng-model="vm.addFamily.address" name="address" id="address" maxlength="20" placeholder="请输入地址"> <span class="text-error" ng-if="vm.familyForm.address.$invalid&&vm.familySubmit">必填*</span></div></div><div class="form-group"><label for="job" class="col-sm-3 control-label">工作</label><div class="col-sm-8" ng-class="{'has-error':vm.familyForm.job.$invalid&&vm.familySubmit}"><input type="text" class="form-control" ng-model="vm.addFamily.job" name="job" id="job" maxlength="10" placeholder="如：XX公司业务员" required> <span class="text-error" ng-if="vm.familyForm.job.$invalid&&vm.familySubmit">必填*</span></div></div><div class="form-group"><label for="healthStatus" class="col-sm-3 control-label">健康状况</label><div class="col-sm-8" ng-class="{'has-error':vm.familyForm.healthStatus.$invalid&&vm.familySubmit}"><input type="text" class="form-control" ng-model="vm.addFamily.healthStatus" name="healthStatus" id="healthStatus" maxlength="10" placeholder="如：健康" required> <span class="text-error" ng-if="vm.familyForm.healthStatus.$invalid&&vm.familySubmit">必填*</span></div></div></form></div><div class="modal-footer"><button type="button" ng-click="addFamily()" class="btn btn-primary">确定</button></div></div></div></div><div class="modal fade" id="addSubsidy" tabindex="-1" role="dialog" aria-labelledby="myModalSubsidy"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalSubsidy">添加资助信息</h4></div><div class="modal-body"><form class="form-horizontal" name="vm.subsidyForm" novalidate><div class="form-group"><label for="subsidyName" class="col-sm-3 control-label">认定名称</label><div class="col-sm-8" ng-class="{ 'has-error' : vm.subsidyForm.name.$invalid &&vm.subsidySubmit }"><input type="text" class="form-control" ng-model="vm.addSubsidy.name" name="name" id="subsidyName" maxlength="20" placeholder="如：国家助学金" required> <span class="text-error" ng-if="vm.subsidyForm.name.$invalid&&vm.subsidySubmit">必填*</span></div></div><div class="form-group"><label for="amount" class="col-sm-3 control-label">发放金额</label><div class="col-sm-8 relative" ng-class="{ 'has-error' : vm.subsidyForm.amount.$invalid&&vm.subsidySubmit }"><input type="text" class="form-control" ng-model="vm.addSubsidy.amount" name="amount" ng-pattern="/^[0-9]+$/" maxlength="10" placeholder="如：3000" required id="amount"><span class="yuans">元</span> <span class="text-error" ng-if="vm.subsidyForm.amount.$error.required&&vm.subsidySubmit">必填*</span> <span class="text-error" ng-if="vm.subsidyForm.amount.$error.pattern&&vm.subsidySubmit">只能为数字*</span></div></div><div class="form-group"><label for="date" class="col-sm-3 control-label">认定时间</label><div class="col-sm-8" ng-class="{ 'has-error' : vm.subsidyForm.date.$invalid&&vm.subsidySubmit }"><p class="input-group w100"><input type="text" class="form-control" uib-datepicker-popup id="date" name="date" placeholder="请选择时间" ng-model="vm.addSubsidy.subsidyDate" is-open="date" show-button-bar="false" readonly="readonly" ng-click="date = true" required> <span class="input-group-btn lh35"><button type="button" class="btn btn-default btn-icon" ng-click="date = true"><i class="glyphicon glyphicon-calendar"></i></button></span></p><span class="text-error" ng-if="vm.subsidyForm.date.$invalid&&vm.subsidySubmit">必填*</span></div></div></form></div><div class="modal-footer"><button type="button" ng-click="addSubsidy()" class="btn btn-primary">确定</button></div></div></div></div></div>